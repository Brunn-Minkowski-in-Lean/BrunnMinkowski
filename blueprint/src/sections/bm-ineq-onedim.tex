\section{One-dimensional}

\begin{definition}
    Let \(A, B \subset \mathbb{R}\). The \textit{Minkowski sum} \(A+B\) of two subsets \(A\) and \(B\) is defined by
    \begin{equation*}
        A+B:= \{a+b\in\mathbb{R} : a \in A, b \in B\}.
    \end{equation*}
\end{definition}

\begin{lemma}
    Let \(A\) be a non-empty measurable set with finite measure. 
    Then for any \(\epsilon > 0\), there exists a non-empty compact subset \(K \subseteq A\) such that 
    \begin{equation*}
        \mu(A \setminus K) < \epsilon
    \end{equation*}
    \label{lemma: exists_isCompact_Nonempty_diff_lt}
\end{lemma}

\begin{proof}
    Since \(A\) has a finite measure, there exists a compact subset \(\widetilde{K} \subseteq A\) such that 
    \begin{equation*}
        \mu (A \setminus \widetilde{K}) < \epsilon
    \end{equation*}
    by the inner regularity of measure for finite measure sets.
    \begin{enumerate}
        \item If \(\widetilde{K}\) is nonempty, then we've done by taking \(K = \widetilde{K}\).
        \item Otherwise, we assume that \(\widetilde{K} = \emptyset\) and take \(K = {a}\), where \(a\) is an element of \(A\), which exists since \(A\) is non-empty. 
        It is trivial that \(K\) is nonempty. It is easy to see that \(K\) is compact since a set consisting of a singleton is compact.
        Additionally, we have \(K \subseteq A\) since \(a \in A\). Finally, we need to show that 
        \begin{equation*}
            \mu(A \setminus {a}) < \epsilon.
        \end{equation*}
        First, we note that \(\mu(A)<\epsilon\) since \(\widetilde{K} = \emptyset\), which implies \(\mu(A\setminus \widetilde{K}) = \mu(A) < \epsilon\).
        Moreover, we observe that \(\mu(A \setminus {a}) \leq \mu(A)\), since \(A\setminus {a} \subseteq A\) and by the monotonicity of the measure. 
        Thus, we conclude that
        \begin{equation*}
            \mu (A \setminus {a}) \leq \mu(A) < \epsilon.
        \end{equation*}
    \end{enumerate}
\end{proof}

\begin{theorem}
    If \(A, B, C \subset \mathbb{R}\) are non-empty measurable sets with \(A+B\subset C \subset \mathbb{R}\), then
    \begin{equation*}
        \mu(A) + \mu(B) \leq \mu(C).
    \end{equation*}
    Here, \(\mu\) is a Lebesgue measure.
\end{theorem}

\begin{proof}
    \begin{enumerate}
        \item We may assume that \(\mu(A)\) and \(\mu(B)\) are finite:

        \begin{enumerate}
            \item Suppose \(\mu(A) = \infty\). Then it suffices to show that \(\mu(A) \leq \mu(C)\),
            since adding any quantity to infinity is still results in infinity. 
            We observe that \(\mu(A) \leq \mu(A+B)\) since \(B\) is non-empty.
            Moreover, by the monotonicity of the Lebesgue measure, we have \(\mu (A+B) \leq \mu(C)\).
            By transitivity of these inequalities, we conclude that \(\mu(A) \leq \mu(C)\) as required.

            \item Now we may assume that \(\mu(A) < \infty\).
            \begin{enumerate}
                \item Suppose that \(\mu(B) = \infty\). 
                Then, using exactly the same arguments as before, we obtain the desired result. 
                \item Thus, we may assume that \(\mu(B) < \infty\).
            \end{enumerate}
        \end{enumerate}

        % First, we observe that
        % \begin{eqnarray}
        %     {\mu(A) \leq \mu(A+B)} \leq \mu(C), \label{eq: A <= A+B}\\
        %     {\mu(B) \leq \mu(A+B)} \leq \mu(C) \label{eq: B <= A+B}
        % \end{eqnarray}
        % :\begin{enumerate}
        %     \item Since \(B\) is a nonzero set, there is an element \(b \in B\).
        %     \item \(\mu(A) =\mu(A+\{b\})\) -- \texttt{simp?}
        %     \item Since \(\{b\} \subseteq B\), we note that \(A + \{b\} \subseteq A + B\).
        %     \item Then \(\mu(A) = \mu(A + \{b\}) \leq \mu(A+B)\).
        % \end{enumerate}
        % since \(A\) and \(B\) are nonempty.
        % \begin{itemize}
        %     \item (\textbf{Case I}: \(\mu(A)=\infty\))
        %     \begin{itemize}
        %         \item (\textbf{Case I-I}: \(\mu(B) = \infty\))
        %         \begin{enumerate}
        %             \item From the assumptions, we see that \(\mu(A) + \mu(B) = {\infty + \infty = \infty}\) where the last equality holds from \texttt{top\_add\_top} in Mathlib4.
        %             \item From the equation (\ref{eq: A <= A+B}) or (\ref{eq: B <= A+B}), we have \(\infty \leq \mu(C)\), together with the assumptions.
        %             \item To sum up,
        %             \begin{eqnarray*}
        %                 \mu(A) + \mu (B) = \infty + \infty = \infty \leq \mu(C).
        %             \end{eqnarray*}
        %         \end{enumerate}

        %         \item (\textbf{Case I-II}: \(\mu(B) < \infty\))
        %         \begin{enumerate}
        %             \item From the assumptions, we see that \(\mu(A) + \mu(B) = {\infty + \mu(B) = \infty}\) where the last equality holds from \texttt{coe\_add\_top} in Mathlib4.
        %             \item From the equation (\ref{eq: A <= A+B}), we have \(\infty \leq \mu(C)\), together with the assumption on \(\mu(A)\).
        %             \item To sum up,
        %             \begin{eqnarray*}
        %                 \mu(A) + \mu (B) = \infty + \mu(B) = \infty \leq \mu(C).
        %             \end{eqnarray*}
        %         \end{enumerate}
        %     \end{itemize}
        %     \item (\textbf{Case II}: \(\mu(A) < \infty\))
        %     \begin{itemize}
        %         \item (\textbf{Case II-I}: \(\mu(B)=\infty\))
        %         \begin{enumerate}
        %             \item From the assumptions, we see that \(\mu(B) + \mu(A) = {\infty + \mu(A) = \infty}\) where the last equality holds from \texttt{coe\_add\_top} in Mathlib4.
        %             \item From the equation (\ref{eq: B <= A+B}), we have \(\infty \leq \mu(C)\), together with the assumption on \(\mu(B)\).
        %             \item To sum up,
        %             \begin{eqnarray*}
        %                 \mu(A) + \mu (B) = \mu(B) + \mu(A) = \infty + \mu(A) = \infty \leq \mu(C).
        %             \end{eqnarray*}
        %         \end{enumerate}
        %     \end{itemize}
        % \end{itemize}

        \item Without loss of generality, we may assume that \(A\) and \(B\) are compact.

        \begin{enumerate}
            \item We first show that we can obtain the result in the general settings if the statement has been shown under the compact settings. 
            Let \(A\) and \(B\) be non-empty measurable sets with finite measures. Then for any \(\epsilon/2>0\), there exists a non-empty compact subsets \(A_\epsilon \subseteq A\) and \(B_\epsilon \subseteq B\) such that 
            \begin{equation*}
                \mu(A \setminus A_\epsilon) < \epsilon/2 \quad \text{and} \quad \mu(B \setminus B_\epsilon) < \epsilon/2
            \end{equation*}
            by Lemma~\ref{lemma: exists_isCompact_Nonempty_diff_lt}.
            Here, it is easy to see that each measure \(\mu(A_\epsilon)\) and  \(\mu(B_\epsilon)\) is finite by contradiction. 
            Indeed, suppose that \(\mu(A_\epsilon) = \infty\). 
            Since \(A_\epsilon \subseteq A\), we have \(\mu(A_\epsilon) \leq \mu(A)\) by the monotonicity of the Lebesgue measure. 
            Then this contradicts to the fact that \(\mu(A)<\infty\).

            Now, we observe that 
            \begin{equation*}
                \mu(A) = \mu(A_\epsilon) + \mu(A \setminus A_\epsilon) < \mu(A_\epsilon) + \epsilon/2
            \end{equation*}
            where the first equality holds due to the facts that \(\mu(A) = \mu(A \cap A_\epsilon) + \mu(A \setminus A_\epsilon)\) and \(\mu(A \cap A_\epsilon) = \mu (A_\epsilon)\).
            With the similar arguments, we obtain 
            \begin{equation*}
                \mu(B) < \mu(B_\epsilon) + \epsilon/2
            \end{equation*}

            \item
        \end{enumerate}
        
        Since {the Lebesgue measure has inner regularity}, we may assume that \(A\) and \(B\) are compact:

        \begin{enumerate}
            \item Let \(A\) and \(B\) be measurable sets. Then for any \(\epsilon>0\), there exist compact sets \(A_\epsilon \subseteq A\) and \(B_\epsilon \subseteq B\) such that
            \begin{equation}
                \mu(A \setminus A_\epsilon)< \epsilon, \quad \text{and} \quad \mu(B \setminus B_\epsilon) < \epsilon.
                \label{eq: inner regularity}
            \end{equation}
            by inner regularity of measurable sets (\texttt{MeasurableSet.exists\_isCompact\_diff\_lt} in Mathlib4).

            \item First, it is easy to see that for any \(\epsilon>0\),
            \begin{equation*}
                A_\epsilon + B_\epsilon \subseteq A + B \subset C.
            \end{equation*}

            \item It suffices to show that for any \(\epsilon>0\), given two compact and {\color{red}nonempty} sets \(A_\epsilon\) and \(B_\epsilon\) such that
            {\color{red}
            \(A_\epsilon + B_\epsilon \subset C\) satisfies
            \begin{equation}
                \mu(A_\epsilon) + \mu(B_\epsilon) \leq \mu(C).
                \label{eq: STS}
            \end{equation}
            }

            Indeed,
            \begin{enumerate}
            \item
              We first can see that the equation (\ref{eq: inner regularity}) can be written as
              \begin{equation}
                \mu(A)-\mu(A_\epsilon) < \epsilon, \quad \text{and} \quad \mu(B) - \mu(B_\epsilon) < \epsilon
                \label{eq: inner regularity 2}
              \end{equation}
              since \(\mu(A\setminus A_\epsilon) = \mu(A)-\mu(A_\epsilon)\) holds from \texttt{MeasureTheory.measure\_diff} in Mathlib4.

            \item Then we have \(\mu(A) + \mu(B) < \mu(C) + 2\epsilon\) by using (\ref{eq: STS}) and (\ref{eq: inner regularity 2}) from \texttt{linarith}.

            \item Thus, we have \(\mu(A) + \mu(B) \leq \mu(C)\) by \texttt{le\_of\_forall\_pos\_lt\_add} in Mathlib4.
            \end{enumerate}
        \end{enumerate}







        \item Since \(A\) and \(B\) are compact, { \(\sup A \in A\) and \(\inf B \in B\). Then} we see that each of the following translations of \(B\) and \(A\) is contained in~\(C\) as follows:
        \begin{eqnarray*}
            \sup A + B
            % & \subseteq & \left[\sup A + \inf B, \sup A + \sup B\right]
            {
             \subseteq A + B} \subseteq C, \\
            A + \inf B
            % & \subseteq & \left[\inf A + \inf B, \sup A + \inf B\right]
            {
             \subseteq A + B} \subseteq C.
        \end{eqnarray*}
        \item As the only intersection point of \(\sup A + B\) and \(A + \inf B\) is \(\sup A + \inf B\), we see that
        \begin{equation*}
            (A + \inf B) \cup (\sup A + B) \subseteq C.
        \end{equation*}
        % As the only intersection point of \(\sup A + B\) and \(A + \inf B\) is \(\sup A + \inf B\), the above two intervals \(A + \inf B\) and \(\sup A + B\) are nonoverlapping.
        {
        \begin{lemma}
            For measurable sets \(A\) and \(B\),
            \(\mu(A \cup B) = \mu(A) + \mu(B) - \mu(A \cap B)\).
        \end{lemma}
        \begin{lemma}
            For measurable set \(A\subset \mathbb{R}\) and \(x \in \mathbb{R}\), \(\mu(x+A) = \mu(A)\).
        \end{lemma}
        }
        We first observe that
        \begin{eqnarray*}
            \mu\left((A+\inf B) \cup (\sup A + B)\right) & = & \mu(A+\inf B) + \mu(\sup A + B) - \mu(\sup A + \inf B)\\
            & = & \mu(A) + \mu(B).
        \end{eqnarray*}
        {
        \begin{lemma}
            For measurable sets \(A\) and \(B\) satisfying \(A \subseteq B\), \(\mu(A) \leq \mu(B)\).
        \end{lemma}
        }
        Thus, we see that
        \begin{equation*}
            \mu(A) + \mu(B) = \mu\left((A+\inf B) \cup (\sup A + B)\right) \leq \mu(C).
        \end{equation*}
    \end{enumerate}
\end{proof}